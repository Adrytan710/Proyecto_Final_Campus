<div class="container">
  <button [routerLink]="['/home']" class="btn btn-primary">Volver</button>
  <div class="w-75 p-5 mx-auto bg-white rounded">
    <div *ngIf="datosRecibidos != null else espera">
      <h1 class="mb-4">Perfil Usuario</h1>
      <p>Id : {{usuario.id}}</p>
      <p>Nombre: {{usuario.usuario}}</p>
      <p>Email: {{usuario.email}}</p>

      <h2 class="mt-5 mb-4">Alergias conocidas</h2>
      <div class="row">
        <div class="col-6" *ngFor="let alergia of alergias">
          <div class="form-check form-switch">
            <input class="form-check-input" id="flexSwitchCheck{{alergia.id}}" [(ngModel)]="checkbox[alergia.id-1]" (ngModelChange)="almacenaAlergias(alergia)" type="checkbox">
            <label class="form-check-label" for="flexSwitchCheck{{alergia.id}}">{{alergia.nombre}}</label>
          </div>
        </div>
        <div *ngIf="alergias == null">
          <b>No hay alergias</b>
        </div>
      </div>
      <div class="w-25 mx-auto">
        <button (click)="guardaNuevoRegistro()" class="boton btn btn-success mt-5">Enviar datos</button>
      </div>
    </div>
    <div *ngIf="datosEnviados" class="mt-5">
      <h4>Datos Enviados....</h4>
    </div>
    <div *ngIf="datosGuardados" class="mt-5">
      <h4>Datos Actualizados Correctamente</h4>
    </div>
    <ng-template #espera>Esperando datos...</ng-template>
  </div>
</div>
